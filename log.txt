0534. ğŸ”§ refactor: split large controller into smaller functions
